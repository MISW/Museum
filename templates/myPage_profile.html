<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>プロフィール変更</title>
    <!-- CSS読み込み -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/css/style.css" rel="stylesheet">
    <link href="../static/css/myPage.css" rel="stylesheet">
    <!-- jQuery読み込み -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- BootstrapのJS読み込み -->
    <script src="../static/js/bootstrap.min.js"></script>

</head>



<body>
 
    <header class=""><!--mypage_home.html　をbaseにしてinclude-->
        <div class="container-fluid "> 

            <nav class="navbar navbar-expand navbar-light" style="background-color:rgb(195, 215, 252)">
                <ul class="nav nav-tabs pull-left">
                    <li class="float-left">
                        <a class="nav-item navbar-brand" href="./mypage_home.html">マイページ</a>
                    </li>
                </ul>

                <ul class="nav nav-tabs pull-right">
                    <li class="nav-item nav-link">
                        <a href="myPage_application_new.html"><button type="button" class="btn btn-primary">新規申請</button></a>
                    </li>
                    <li class="nav-item dropdown pr-2">
                        <button class="dropdown-toggle p-2" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                           <img src="../static/icons/profile.svg" class="rounded-circle" width="32" height="32">
                        </button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="./mypage_home.html">マイページトップへ</a>
                            <div role="separator" class="divider"></div>
                            <a class="dropdown-item" href="#">管理者ログイン</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>

    </header>







    <main role="main">
        <form>
            <!-- profile  -->
            <section class="p-5" style="background-color: rgb(238, 237, 237);" >
                <div class="container">
                    <div class="row align-items-center mx-auto justify-content-center">
                        <div class="col-xs-12 col-md-4 text-center pb-5"> <!-- col-12 col-md-4 --> <!-- col-4 col-auto-->

                            <label for="profileImageInput">
                                <img id="profileImage" class="img-fluid rounded-circle" src="../static//icons/profile.svg" alt="プロフィール画像" width="200" height="200"> 
                            </label>
                            <input id="profileImageInput" name="profileImageInput" type="file" class="form-control-file center-block" name="profileImageInput" accept="image/*">

                        </div>
                        <div class="col-xs-12 col-md-8 text-left "> <!-- col-12 col-md-8 --> <!-- col-8 col-auto-->
                            <div style="overflow-wrap: break-word; word-wrap: break-word;" ></div>
                                <div class="row form-group" >
                                    <span class="col-xs-6 col-md-5" >ハンドルネーム: </span>
                                    <span class="col-xs-6 col-md-5">NAME</span>
                                </div>
                                <div class="row form-group">
                                    <p class="col-xs-6 col-md-5">
                                        <label for="generationInput">代: </label>
                                    </p>
                                    <p class="col-xs-6 col-md-5">
                                        <input type="number" id="generationInput" name ="generationInput" min="0" max="300" value="55" >
                                    </p>
                                </div>
                                <div class="row form-group" >
                                    <p class="col-xs-6 col-md-5">
                                        <label for="shortCommentInput">ひとこと: </label>
                                    </p>
                                    <textarea class="col-xs-6 col-md-5" id="shortCommentInput" name="shortCommentInput" rows="5" placeholder="自己紹介など">何か適当な一言をここに入力します。少し長め場合も考えてみます。さらに長い場合も以下同文。</textarea>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </section>

            <div class="text-center p-5">
                <button id="changeButton" type="submit" class="btn btn-primary pr-3 pl-3 m-3">変更保存</button>
                <a href="./mypage_home.html"><button type="button" class="btn btn-outline-danger pr-3 pl-3 m-3">戻る</button> </a>
            </div>

        </form>


    </main>

    <script>
          //画像変更
        $("#profileImageInput").on('change',function(e){
            if(!e.target.files[0]){
                $("#profileImage").attr('src',"");
                return;
            }

            var reader = new FileReader();
            reader.onload = function (e) {
                $("#profileImage").attr('src', e.target.result);
                $("#profileImage").attr('width', 200);
                $("#profileImage").attr('height', 200);
            }
            reader.readAsDataURL(e.target.files[0]);
        });

        //変更ボタン表示
        /*$("#changeButton").hide();
        $("input").on('click',function() {
            $("#changeButton").show('slow');
        });
        $("textarea").on('click',function() {
            $("#changeButton").show('slow');
        });*/


        //ページ移動警告
        /*
        $("input").change(function() {
            $("#changeButton").show("slow");
            $(window).on('beforeunload', function(e) {
                return '入力済みデータが失われます。このまま移動しますか？\n申請する場合は「このまま移動する」を押してください。';
            });
        });
        $("input[type=submit]").click(function() {
            $(window).off('beforeunload');
        });*/



        $('form').submit(
            function(){
                alert("「ひとこと」を「"+$('#shortCommentInput').val()+"」、\n「代」を"+$('#generationInput').val()+"に変更します。");
            } 

        );
    </script>


</body>

</html>
