{% extends 'base.html' %}

{% load static %}

{% block title %}
  マイページ
{% endblock title %}

{% block head %}
  <!-- css link -->
  <link href="{% static 'css/myPage.css' %}" rel="stylesheet">
{% endblock head %}

{% block main %}
  <main role="main">
    <!-- profile  -->
    <section class="p-5" style="background-color: rgb(238, 237, 237);">
      <div class="container">
        <div class="row align-items-center mx-auto justify-content-center">
          <div class="col-12 col-md-4 text-center">
            <!-- col-12 col-md-4 -->
            <!-- col-4 col-auto-->

            {% if user.image %}
              <img class="rounded-circle" src="{{ user.image.url }}" width="200" height="200">
            {% else %}
              <img class="rounded-circle" src="{% static 'icons/profile.svg' %}" width="200" height="200">
            {% endif %}
          </div>
          <div class="d-md-none p-4"></div>
          <div class="col-12 col-md-8 text-left">
            <!-- col-12 col-md-8 -->
            <!-- col-8 col-auto-->
            <div style="overflow-wrap: break-word; word-wrap: break-word;">
              <div class="row p-2">
                <span class="col-6 col-md-5">ハンドルネーム: </span>
                <span class="col-6 col-md-5">{{ user.first_name }}</span>
              </div>
              <div class="row p-2">
                <span class="col-6 col-md-5">代: </span>
                {% if user.generation %}
                  <span class="col-6 col-md-5">{{ user.generation }}</span>
                {% else %}
                  <span class="col-6 col-md-5">-</span>
                {% endif %}

              </div>
              <div class="row p-2">
                <span class="col-6 col-md-5">ひとこと: </span>
                <span class="col-6 col-md-5">
                <p>{{ user.description }}</p>
              </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="container ">
      <!-- 作成したゲーム一覧 -->
      <div class="row justify-content-center">

        <div class="p-4 col-12">
          <!-- 個人作成ゲーム -->
          <p class="h2">個人作成</p>
          <table class="table  table-hover p-2 text-nowrap overflow-auto ">
            <!--table-responsive-->
            <thead class="thead-light">
            <tr>
              <th class="d-table-cell" style="width:15%;">状態</th>
              <th class="d-none d-md-table-cell" style="width:15%;">ゲームID</th>
              <th class="d-none d-md-table-cell" style="width:10%;">写真</th>
              <th class="d-table-cell" style="width:20%;">ゲーム名</th>
              <th class="d-none d-md-table-cell" style="width:15%;"></th>
              <th class="d-table-cell" style="width:15%;"></th>
            </tr>
            </thead>
            <tbody>
            {% for app in apps %}
              <tr>
                <td class="d-table-cell">
                  {% if app.status == 1 %}
                    <span class="btn btn-primary status_public">公開</span>
                  {% elif app.status == 2 %}
                    <span class="btn btn-success btn-sm">非公開</span>
                  {% else %}
                    <span class="btn btn-info btn-sm">申請中</span>
                  {% endif %}
                <td class="d-none d-md-table-cell align-middle">{{ app.id }}</td>
                {% if app.image %}
                  <td class="d-none d-md-table-cell align-middle">
                    <img src="{{ app.image.url }}" width="32" height="32">
                  </td>
                {% else %}
                  <td class="d-none d-md-table-cell align-middle">
                    <img src="{% static 'icons/noimage.png' %}" width="32" height="32">
                  </td>
                {% endif %}

                <td class="d-table-cell  text-wrap align-middle">{{ app.title }}</td>
                <!--overflow-hidden  -->
                <td class="d-none d-md-table-cell align-middle"></td>
                <td class="d-table-cell align-middle">
                  <a href="">
                    <button class="btn btn-outline-dark">詳細</button>
                  </a>
                  <a href="">
                    <button  class="btn btn-success">変更</button>
                  </a>
                </td>
              </tr>
            {% endfor %}

            </tbody>
          </table>
        </div>

        <div class="p-4 col-12">
          <!-- 複数人作成ゲーム -->
          {% comment %}
        <span class="h2">複数人作成</span>
        <small> 注）変更できるのは「申請者」のみ</small>
        <table class="table table-hover p-2 text-nowrap overflow-auto">
          <!--table-responsive-->
          <thead class="thead-light">
            <tr>
              <th class="d-table-cell" style="width:15%;">状態</th>
              <th class="d-none d-md-table-cell" style="width:15%;">ゲームID</th>
              <th class="d-none d-md-table-cell" style="width:10%;">写真</th>
              <th class="d-table-cell text-wrap align-middle" style="width:20%;">ゲーム名</th>
              <th class="d-none d-md-table-cell align-middle" style="width:15%;">申請者</th>
              <th class="d-table-cell align-middle" style="width:15%;"></th>

            </tr>
          </thead>
          <tbody>
            <tr>
              <!-- 1つめ -->
              <td class="d-table-cell align-middle"><span class="btn btn-primary status_private"
                  id="status_public">非公開</span></td>
              <td class="d-none d-md-table-cell align-middle">0000000</td>
              <td class="d-none d-md-table-cell align-middle"><img src="../static/image/game_image.jpeg" width="32"
                  height="32"></td>
              <td class="d-table-cell text-wrap align-middle">ゲーム名あいうえおかきくけこさしすせそ多阿智伝となにぬねのはhihhuhe</td>
              <td class="d-none d-md-table-cell align-middle">SELF</td>
              <td class="d-table-cell align-middle"><a href="mypage_game_detail.html"><button
                    class="btn btn-outline-dark">詳細</button></a><a href="myPage_application_change.html"><button
                    class="btn btn-success">変更</button></a></td>
            </tr>
            <tr>
              <!-- 2つめ -->
              <td class="d-table-cell align-middle"><span class="btn btn-primary status_public">公開中</span>
              </td>
              <td class="d-none d-md-table-cell align-middle">0000000</td>
              <td class="d-none d-md-table-cell align-middle"><img src="../static/image/game_image.jpeg" width="32"
                  height="32"></td>
              <td class="d-table-cell text-wrap align-middle">ゲーム名</td>
              <td class="d-none d-md-table-cell align-middle">自分以外</td>
              <td class="d-table-cell align-middle"><a href="mypage_game_detail.html"><button
                    class="btn btn-outline-dark">詳細</button></a></td>
            </tr>
          </tbody>
        </table>
        {% endcomment %}
        </div>
      </div>
    </div>
  </main>
{% endblock main %}
